<%-include('../layouts/boilerplate.ejs')%>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<body>

  <h3 class="text-left my-1">All Listings</h3>
  <form method="GET" action="/listings/new" class="text-left mb-4">
    <button class="btn btn-sm btn-custom4">Create New Listing</button>
  </form>

  <div class="container">
    <div class="row row-cols-1 row-cols-md-4 g-4"> <!-- Display one column on small screens, and four columns on medium and larger screens -->
      <% for(let listing of allListings) { %>
        <div class="col">
          <a href="/listings/<%= listing._id %>" class="card-link">
            <div class="card h-100">
              <img src="<%= listing.image %>" class="card-img-top" alt="listing_img" style="height: 5rem;" />
              <div class="card-body">
                <p class="card-text">
                  <b><%= listing.title %></b>
                  <br />
                  <div class="card-img-overlay">satish</div>
                  <% if (listing.price !== null && listing.price !== undefined) { %>
                    &#8377;<%= listing.price.toLocaleString("en-IN") %>/ Night
                  <% } else { %>
                    Price not available
                  <% } %>
                </p>
              </div>
            </div>
          </a>
        </div>
      <% } %>
    </div>
  </div>

</body>

<style>
  /* card.css */
  body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    background-color: #bfbfbfbf;
  }

  h3 {
    color: wheat;
    background: linear-gradient(45deg, black, #909090);
  }

  .card {
    background-color: #f0f0f0;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s;
  }

  .card:hover {
    transform: translateY(-5px);
  }

  .card-link {
    text-decoration: none;
    color: inherit;
  }

  .card-img-top {
    width: 100%;
    height: auto;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
  }

  .card-body {
    padding: 15px;
  }

  .card-text {
    margin: 0;
    font-size: 15px;
  }

  .card-img-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: rgba(0, 0, 0, 0.5);
    color: white;
    padding: 10px;
    border-bottom-left-radius: 5px;
    border-bottom-right-radius: 5px;
  }
</style>
